// 第三方
import gulp from 'gulp';
import size from 'gulp-size';
import webpack from 'webpack';
import babel from 'gulp-babel';
import rev from 'swg-gulp-rev';
import eslint from 'gulp-eslint';
import uglify from 'gulp-uglify';
import replace from 'gulp-replace';
import webpackStream from 'webpack-stream';

// 自定义
import util from '../util.js';
import config from '../config.js';
import eslintrc from '../eslintrc.js';

/************************************ 构建JS任务 ************************************/
gulp.task('task_js_router', () => {
  console.log(`>>>>>>>>>>>>>>> js文件开始编译。${util.getNow()}`);


  return gulp.src(config.path.router)

    // eslint语法校验
    .pipe(!config.env.env ? eslint(eslintrc) : util.gulpNothing())
    .pipe(!config.env.env ? eslint.format() : util.gulpNothing())

    .pipe(babel(config.babel))

    // 输出router.js文件
    .pipe(gulp.dest(config.path.static))
    ;
});
